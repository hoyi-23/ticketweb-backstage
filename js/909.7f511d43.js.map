{"version":3,"file":"js/909.7f511d43.js","mappings":"wNACSA,MAAM,W,GACP,OAAa,qB,GAAb,G,0CADJ,QAEM,MAFN,EAEM,I,UAIV,OACIC,KAAM,UCHV,SAAgBC,EAChB,YAAmB,kBAEnB,S,6GCPSF,MAAM,U,GACFA,MAAM,qB,GACFA,MAAM,e,GACP,OAAsC,SAA/BG,IAAI,cAAa,UAAM,G,GAG7BH,MAAM,e,GACP,OAAwC,SAAjCG,IAAI,gBAAe,UAAM,G,SAIXH,MAAM,mB,GAE3B,OAQQ,eAPJ,OAMK,YALD,OAAa,UAAT,SACJ,OAAa,UAAT,SACJ,OAAa,UAAT,SACJ,OAAW,UAAP,OACJ,OAAW,UAAP,UANZ,G,iHAbZ,QA8CM,MA9CN,EA8CM,EA7CF,OASM,MATN,EASM,EARF,OAGM,MAHN,EAGM,CAFF,GAEE,SADF,OAA6E,SAAtEI,KAAK,O,qCAAgB,EAAAC,WAAU,GAAEC,GAAG,aAAaC,YAAY,UAApE,iBAA4B,EAAAF,iBAEhC,OAGM,MAHN,EAGM,CAFF,GAEE,SADF,OAAiF,SAA1ED,KAAK,O,qCAAgB,EAAAI,aAAY,GAAEF,GAAG,eAAeC,YAAY,UAAxE,iBAA4B,EAAAC,oBAGzB,EAAAC,mBAAA,WAAX,QA+BM,MA/BN,EA+BM,EA9BF,OA6BQ,cA5BJ,IA4BI,aAnBJ,QAkBQ,mBAlBc,EAAAC,iBAARC,K,WAAd,QAkBQ,SAlBgCC,IAAKD,EAAKE,OAAlD,EACI,OAgBK,YAfD,OAAuB,mBAAjBF,EAAKE,OAAK,IAChB,OAGK,WAFQF,EAAKG,UAAUC,SAAA,WAAxB,QAAyC,MAAT,WAAhC,eACUJ,EAAKG,UAAUC,QAAzB,iBAAyB,WAAzB,QAAyC,MAAR,YAErC,OAKK,YAJD,OAGK,YAFD,OAAoC,UAAhC,QAAI,QAAEJ,EAAKG,UAAUb,MAAI,IAC7B,OAAoC,UAAhC,QAAI,QAAEU,EAAKG,UAAUE,MAAI,QAGrC,OAAwB,mBAAlBL,EAAKM,OAAO,IAAC,IACnB,OAEK,YADD,OAAoE,UAA5Db,KAAK,SAAU,QAAK,GAAE,EAAAc,YAAYP,EAAKE,QAAQ,OAAI,cAfvE,aAXR,WAgCA,QAEM,UADF,QAAiB,Q,kCAU7B,GACIZ,KAAM,SACNkB,UAAU,CACNC,OAAM,KAEVC,QACI,MAAMC,GAAQ,WACd,SAAc,KACVA,EAAMC,SAAS,gBAEnB,MAAMd,GAAmB,SAAS,IAAIa,EAAME,QAAQC,cAC9CC,GAAY,SAAS,IAAIJ,EAAME,QAAQE,YAE7C,SAASR,EAAYL,GACjBS,EAAMC,SAAS,cAAcV,GAGjC,MAAMR,GAAa,QAAI,MACjBG,GAAe,QAAI,MAEnBmB,GAAkB,SAAS,KAC7B,GAAGtB,EAAWuB,MAAM,CAChB,MAAMC,EAAYxB,EAAWuB,MACvBE,EAAM,IAAIC,OAAOF,EAAW,MAClC,OAAOH,EAAUE,MAAMI,QAAOrB,GAAQA,EAAKE,MAAMoB,MAAMH,KAEvD,OAAOJ,EAAUE,SAGnBlB,GAAkB,SAAS,KAC7B,GAAGF,EAAaoB,MAAM,CAClB,MAAMM,EAAc1B,EAAaoB,MACjC,OAAOD,EAAgBC,MAAMI,QAAOrB,GAAQA,EAAKG,UAAUb,KAAKgC,MAAM,IAAIF,OAAOG,EAAY,SAE7F,OAAOP,EAAgBC,SAI/B,MAAM,CACFnB,iBAAAA,EACAiB,UAAAA,EACAR,YAAAA,EACAb,WAAAA,EACAG,aAAAA,EACAmB,gBAAAA,EACAjB,gBAAAA,KCjGZ,SAAgBR,EAEhB","sources":["webpack://ticketweb-backstage/./src/components/OnLoad.vue","webpack://ticketweb-backstage/./src/components/OnLoad.vue?1665","webpack://ticketweb-backstage/./src/views/orders.vue","webpack://ticketweb-backstage/./src/views/orders.vue?4ce8"],"sourcesContent":["<template>\r\n    <div class=\"loading\">\r\n        <span></span>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"OnLoad\"\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.loading {\r\n  top: 0;\r\n  left: 0;\r\n  z-index: 101;\r\n  height: 100%;\r\n  width: 100%;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  position: absolute;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  @keyframes spin {\r\n    to {\r\n      transform: rotateZ(360deg);\r\n    }\r\n  }\r\n  span {\r\n    display: block;\r\n    width: 60px;\r\n    height: 60px;\r\n    margin: 0 auto;\r\n    border: 3px solid transparent;\r\n    border-top-color: #fff;\r\n    border-bottom-color: #fff;\r\n    border-radius: 50%;\r\n    animation: spin ease 1000ms infinite;\r\n  }\r\n}\r\n</style>","import { render } from \"./OnLoad.vue?vue&type=template&id=e77f9db0&scoped=true\"\nimport script from \"./OnLoad.vue?vue&type=script&lang=js\"\nexport * from \"./OnLoad.vue?vue&type=script&lang=js\"\n\nimport \"./OnLoad.vue?vue&type=style&index=0&id=e77f9db0&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-e77f9db0\"\n\nexport default script","<template>\r\n    <div class=\"orders\">\r\n        <div class=\"searchOrder__wrap\">\r\n            <div class=\"searchOrder\">\r\n                <label for=\"searchById\">訂單號碼查詢</label>\r\n                <input type=\"text\" v-model=\"searchById\" id=\"searchById\" placeholder=\"輸入訂單號碼\">\r\n            </div>\r\n            <div class=\"searchOrder\">\r\n                <label for=\"searchByName\">會員姓名查詢</label>\r\n                <input type=\"text\" v-model=\"searchByName\" id=\"searchByName\" placeholder=\"輸入會員姓名\">\r\n            </div>\r\n        </div>\r\n        <div v-if=\"checkOrderLoaded\" class=\"table-container\">\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>訂單號碼</th>\r\n                        <th>付款狀態</th>\r\n                        <th>會員資料</th>\r\n                        <th>合計</th>\r\n                        <th>操作</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody v-for=\"item in orderListResult\" :key=\"item.docId\">\r\n                    <tr>\r\n                        <td>{{item.docId}}</td>\r\n                        <td>\r\n                            <p v-if=\"item.buyerInfo.isPaid\"> 已付款 </p>\r\n                            <p v-if=\"!item.buyerInfo.isPaid\">尚未付款</p>\r\n                        </td>\r\n                        <td>\r\n                            <ul>\r\n                                <li>姓名: {{item.buyerInfo.name}}</li>\r\n                                <li>電話: {{item.buyerInfo.tele}}</li>\r\n                            </ul>\r\n                        </td>\r\n                        <td>{{item.total}}元</td>\r\n                        <td>\r\n                            <button type=\"button\" @click=\"deleteOrder(item.docId)\">刪除訂單</button>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n        <div v-else>\r\n            <OnLoad></OnLoad>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport OnLoad from '../components/OnLoad.vue'\r\nimport {computed,ref,onBeforeMount,watch} from 'vue'\r\nimport {useStore} from 'vuex'\r\n\r\nexport default {\r\n    name: 'orders',\r\n    component:{\r\n        OnLoad\r\n    },\r\n    setup(){\r\n        const store = useStore();\r\n        onBeforeMount(() => {\r\n            store.dispatch('getOrders')\r\n        })\r\n        const checkOrderLoaded = computed(()=>store.getters.orderLoaded)\r\n        const orderList = computed(()=>store.getters.orderList)\r\n        \r\n        function deleteOrder(docId){\r\n            store.dispatch('deleteOrder',docId)\r\n        }\r\n\r\n        const searchById = ref(null)\r\n        const searchByName = ref(null)\r\n        \r\n        const orderSearchById = computed(()=>{\r\n            if(searchById.value){\r\n                const IdToMatch = searchById.value;\r\n                const reg = new RegExp(IdToMatch, 'gi');\r\n                return orderList.value.filter(item => item.docId.match(reg))\r\n            }else{\r\n                return orderList.value\r\n            }\r\n        })\r\n        const orderListResult = computed(()=>{\r\n            if(searchByName.value){\r\n                const NameToMatch = searchByName.value;\r\n                return orderSearchById.value.filter(item => item.buyerInfo.name.match(new RegExp(NameToMatch,'gi')))\r\n            }else{\r\n                return orderSearchById.value\r\n            }\r\n        })\r\n\r\n        return{\r\n            checkOrderLoaded,\r\n            orderList,\r\n            deleteOrder,\r\n            searchById,\r\n            searchByName,\r\n            orderSearchById,\r\n            orderListResult\r\n        }\r\n    }\r\n}\r\n</script>","import { render } from \"./orders.vue?vue&type=template&id=e69c3bb2\"\nimport script from \"./orders.vue?vue&type=script&lang=js\"\nexport * from \"./orders.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"names":["class","name","render","for","type","searchById","id","placeholder","searchByName","checkOrderLoaded","orderListResult","item","key","docId","buyerInfo","isPaid","tele","total","deleteOrder","component","OnLoad","setup","store","dispatch","getters","orderLoaded","orderList","orderSearchById","value","IdToMatch","reg","RegExp","filter","match","NameToMatch"],"sourceRoot":""}