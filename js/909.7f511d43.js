"use strict";(self["webpackChunkticketweb_backstage"]=self["webpackChunkticketweb_backstage"]||[]).push([[909],{8654:function(e,l,r){r.d(l,{Z:function(){return o}});var t=r(6252);(0,t.dD)("data-v-e77f9db0");const n={class:"loading"},a=(0,t._)("span",null,null,-1),d=[a];function u(e,l,r,a,u,c){return(0,t.wg)(),(0,t.iD)("div",n,d)}(0,t.Cn)();var c={name:"OnLoad"};c.render=u,c.__scopeId="data-v-e77f9db0";var o=c},4056:function(e,l,r){r.r(l),r.d(l,{default:function(){return m}});var t=r(6252),n=r(9963),a=r(3577);const d={class:"orders"},u={class:"searchOrder__wrap"},c={class:"searchOrder"},o=(0,t._)("label",{for:"searchById"},"訂單號碼查詢",-1),s={class:"searchOrder"},i=(0,t._)("label",{for:"searchByName"},"會員姓名查詢",-1),_={key:0,class:"table-container"},h=(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",null,"訂單號碼"),(0,t._)("th",null,"付款狀態"),(0,t._)("th",null,"會員資料"),(0,t._)("th",null,"合計"),(0,t._)("th",null,"操作")])],-1),y={key:0},p={key:1},f=["onClick"],v={key:1};function w(e,l,r,w,b,k){const g=(0,t.up)("OnLoad");return(0,t.wg)(),(0,t.iD)("div",d,[(0,t._)("div",u,[(0,t._)("div",c,[o,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=e=>w.searchById=e),id:"searchById",placeholder:"輸入訂單號碼"},null,512),[[n.nr,w.searchById]])]),(0,t._)("div",s,[i,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":l[1]||(l[1]=e=>w.searchByName=e),id:"searchByName",placeholder:"輸入會員姓名"},null,512),[[n.nr,w.searchByName]])])]),w.checkOrderLoaded?((0,t.wg)(),(0,t.iD)("div",_,[(0,t._)("table",null,[h,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(w.orderListResult,(e=>((0,t.wg)(),(0,t.iD)("tbody",{key:e.docId},[(0,t._)("tr",null,[(0,t._)("td",null,(0,a.zw)(e.docId),1),(0,t._)("td",null,[e.buyerInfo.isPaid?((0,t.wg)(),(0,t.iD)("p",y," 已付款 ")):(0,t.kq)("",!0),e.buyerInfo.isPaid?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("p",p,"尚未付款"))]),(0,t._)("td",null,[(0,t._)("ul",null,[(0,t._)("li",null,"姓名: "+(0,a.zw)(e.buyerInfo.name),1),(0,t._)("li",null,"電話: "+(0,a.zw)(e.buyerInfo.tele),1)])]),(0,t._)("td",null,(0,a.zw)(e.total)+"元",1),(0,t._)("td",null,[(0,t._)("button",{type:"button",onClick:l=>w.deleteOrder(e.docId)},"刪除訂單",8,f)])])])))),128))])])):((0,t.wg)(),(0,t.iD)("div",v,[(0,t.Wm)(g)]))])}var b=r(8654),k=r(2262),g=r(4709),I={name:"orders",component:{OnLoad:b.Z},setup(){const e=(0,g.oR)();(0,t.wF)((()=>{e.dispatch("getOrders")}));const l=(0,k.Fl)((()=>e.getters.orderLoaded)),r=(0,k.Fl)((()=>e.getters.orderList));function n(l){e.dispatch("deleteOrder",l)}const a=(0,k.iH)(null),d=(0,k.iH)(null),u=(0,k.Fl)((()=>{if(a.value){const e=a.value,l=new RegExp(e,"gi");return r.value.filter((e=>e.docId.match(l)))}return r.value})),c=(0,k.Fl)((()=>{if(d.value){const e=d.value;return u.value.filter((l=>l.buyerInfo.name.match(new RegExp(e,"gi"))))}return u.value}));return{checkOrderLoaded:l,orderList:r,deleteOrder:n,searchById:a,searchByName:d,orderSearchById:u,orderListResult:c}}};I.render=w;var m=I}}]);
//# sourceMappingURL=909.7f511d43.js.map